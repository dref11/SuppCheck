<h1>Google Cloud Platform - Vision Sample</h1>

<p>This Python Flask application demonstrates App Engine Standard, Cloud Storage, Vision API, and Cloud Firestore.</p>

<br>

<html>
  <body>
    <form action="upload_photo" method="POST" enctype="multipart/form-data">
      Upload File: <input type="file" name="file"><br>
      <input type="submit" name="submit" value="Submit">
    </form>
    {% for photo_document in photo_documents %}
      <img src="{{photo_document.get('image_public_url')}}" width=200 height=200>
      <p>Top Label Detected using Vision API: {{photo_document.get('top_label')}}</p>
    {% endfor %}

    {% if image_public_url %}
      <h2><a href='/'>View All Images</a></h2>
      <img src="{{image_public_url}}" width=200 height=200>

      <h2>Text Detection:</h2>
      <b>Ingredient:</b>
      {% for text in texts %}
        <p> {{text}} </p>
      {% endfor %}
      <br>

    {% endif %}
  </body>
</html> 